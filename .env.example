# ============================================================================
# Environment Variables - Docker Compose Configuration
# ============================================================================
# Copy this file to .env and update the values for your environment.
# This file is used by Docker Compose to configure services.
#
# IMPORTANT: Never commit .env files to version control!
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   docker-compose up -d

# ============================================================================
# Application Environment
# ============================================================================
# Environment mode: development, production, test
NODE_ENV=development

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
# PostgreSQL connection settings
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=fullstack
POSTGRES_PORT=5432

# Database connection URL (used by Prisma and the API)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/fullstack?schema=public

# ============================================================================
# Better Auth Configuration
# ============================================================================
# Secret key for encryption and generating hashes
# SECURITY: Generate a secure secret using: openssl rand -base64 32
# This should be a long, random string (at least 32 characters)
BETTER_AUTH_SECRET=your-super-secret-key-change-this-in-production-min-32-chars

# Base URL of the API server
# For Docker Compose: use the service name (api)
# For local development: use localhost
BETTER_AUTH_URL=http://localhost:3001

# ============================================================================
# API Server Configuration
# ============================================================================
# Port for the NestJS API server
API_PORT=3001

# API base URL (for external access)
API_BASE_URL=http://localhost:3001

# Logging level: error, warn, info, debug, verbose
LOG_LEVEL=info

# ============================================================================
# Web Application Configuration
# ============================================================================
# Port for the Next.js web application
WEB_PORT=3000

# Public API URL (exposed to the browser)
# For Docker Compose: use localhost or your domain
# For production: use your actual domain
NEXT_PUBLIC_API_URL=http://localhost:3001

# Public Better Auth URL (exposed to the browser)
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3001

# ============================================================================
# Development Configuration (Optional)
# ============================================================================
# Enable Next.js telemetry (0 = disabled, 1 = enabled)
NEXT_TELEMETRY_DISABLED=1

# Enable NestJS debug mode (true/false)
NEST_DEBUG=false

# ============================================================================
# Production Configuration (Optional)
# ============================================================================
# Use secure cookies (true in production, false in development)
USE_SECURE_COOKIES=false

# CORS allowed origins (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# Email Configuration (Optional - for Better Auth email verification)
# ============================================================================
# Email provider: smtp, sendgrid, mailgun, etc.
# EMAIL_PROVIDER=smtp
# EMAIL_FROM=noreply@example.com
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password

# ============================================================================
# OAuth Providers (Optional - for Better Auth social login)
# ============================================================================
# GitHub OAuth
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# Google OAuth
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================================================
# Redis Configuration (Optional - for caching and sessions)
# ============================================================================
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ============================================================================
# Monitoring & Observability (Optional)
# ============================================================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://your-sentry-dsn

# Application insights key
# APPINSIGHTS_INSTRUMENTATIONKEY=your-insights-key

# ============================================================================
# Notes
# ============================================================================
# - Keep this file updated when adding new environment variables
# - Document all variables with clear descriptions
# - Use secure values for production environments
# - Never commit actual secrets to version control
# - Consider using secret management tools for production (AWS Secrets Manager, Azure Key Vault, etc.)
