// ============================================================================
// Test Payments Library Schema
// ============================================================================
// Test fixture for payment models with no dependencies

generator client {
	provider        = "prisma-client-js"
	output          = "../generated/prisma"
	
}

datasource db {
	provider = "postgresql"
	url      = env("DATABASE_URL")
	schemas  = ["payments"]
}

// ============================================================================
// Payment Models
// ============================================================================

model Payment {
	id            String        @id @default(cuid())
	amount        Int
	currency      String        @default("USD")
	status        PaymentStatus @default(PENDING)
	customerId    String
	createdAt     DateTime      @default(now())
	updatedAt     DateTime      @updatedAt
	transactions  Transaction[]

	@@map("payments")
	@@schema("payments")
}

model Transaction {
	id          String   @id @default(cuid())
	paymentId   String
	payment     Payment  @relation(fields: [paymentId], references: [id], onDelete: Cascade)
	amount      Int
	description String?
	createdAt   DateTime @default(now())

	@@map("transactions")
	@@schema("payments")
}

enum PaymentStatus {
	PENDING
	COMPLETED
	FAILED
	REFUNDED

	@@schema("payments")
}
